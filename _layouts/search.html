---
layout: default
title: 검색
permalink: /search/
---

<h1>🔍 검색</h1>
<input type="text" id="search-box" placeholder="검색어를 입력하세요..." />

<ul id="search-results"></ul>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
<script>
  var searchBox = document.getElementById('search-box');
  var resultsContainer = document.getElementById('search-results');

  fetch('/search.json')
    .then(response => response.json())
    .then(posts => {
      var idx = lunr(function () {
        this.ref('url');
        this.field('title');
        this.field('content');

        posts.forEach(post => this.add(post));
      });

      searchBox.addEventListener('input', function () {
        var query = this.value.trim();
        resultsContainer.innerHTML = '';

        if (query) {
          var results = idx.search(query);
          results.forEach(result => {
            var post = posts.find(p => p.url === result.ref);
            var li = document.createElement('li');
            li.innerHTML = `<a href="${post.url}">${post.title}</a>`;
            resultsContainer.appendChild(li);
          });
        }
      });
    });
</script>
